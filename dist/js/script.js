var errorPopup,thanksPopup,mask,lazy,menu,burger,hdr,overlay,body,fakeScrollbar,mobileMenu,browser={isOpera:!!window.opr&&!!opr.addons||!!window.opera||0<=navigator.userAgent.indexOf(" OPR/"),isFirefox:"undefined"!=typeof InstallTrigger,isSafari:/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!=typeof safari&&safari.pushNotification).toString(),isIE:!!document.documentMode,isEdge:!document.documentMode&&!!window.StyleMedia,isChrome:!!window.chrome&&!!window.chrome.webstore,isYandex:!!window.yandex,isMac:0<=window.navigator.platform.toUpperCase().indexOf("MAC")},SLIDER={hasSlickClass:function(e){return e.hasClass("slick-slider")},unslick:function(e){e.slick("unslick")},createArrow:function(e,t){return'<button type="button" class="arrow arrow_'+(e=(-1===e.indexOf("prev")?"next ":"prev ")+e)+'">'+t+"</button>"},arrowSvg:'<svg class="arrow__svg" viewBox="0 0 50 30" xmlns="http://www.w3.org/2000/svg" fill="none"><path class="arrow-path" fill-rule="evenodd" clip-rule="evenodd" d="M38.589 14l-5.018-4.157.429-.51 6 5.014-6 4.986-.43-.509 5.019-4.157h-38.589v-.667h38.589z" fill="currentColor"/><circle r="14.5" transform="matrix(-1 0 0 1 35 15)" stroke="currentColor"/></svg>'},windowFuncs={load:[],resize:[],scroll:[],call:function(e){for(var t=windowFuncs[e.type]||e,n=t.length-1;0<=n;n--)t[n]()}},copyInputValue=function(){var e=document.createElement("input");e.setAttribute("type","text"),e.style.opacity=0,document.body.appendChild(e),e.value=event.target.value,e.select(),document.execCommand("copy"),document.body.removeChild(e)},q=function(e,t){return(t=t||document.body).querySelector(e)},qa=function(e,t,n){return t=t||document.body,n?Array.prototype.slice.call(t.querySelectorAll(e)):t.querySelectorAll(e)},id=function(e){return document.getElementById(e)},setVh=function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",e+"px")},media=function(e){return window.matchMedia(e).matches},scrollToTarget=function(e,t){var n,r,o,a,i;e&&e.preventDefault(),_=this===window?e.target:this,t||0==(t=t||_.getAttribute("data-scroll-target"))&&(t=document.body),(t=(t=!t&&"A"===_.tagName?q(_.getAttribute("href")):t).constructor===String?q(t):t)&&(menu&&menu.close(),n=window.pageYOffset,getComputedStyle(t),r=t.getBoundingClientRect().top,o=null,a=3e3<Math.abs(r)?.15:.35,i=function(e){e-=o=null===o?e:o,e=r<0?Math.max(n-e/a,n+r):Math.min(n+e/a,n+r);window.scrollTo(0,e),e!=n+r&&requestAnimationFrame(i)},requestAnimationFrame(i))};pageScroll=function(e){fakeScrollbar.classList.toggle("active",e),body.classList.toggle("no-scroll",e),body.style.paddingRight=e?fakeScrollbar.offsetWidth-fakeScrollbar.clientWidth+"px":""},sticky=function(e,t,n){e="string"==typeof e?q(e):e,n=n||"fixed",t=t||"bottom";var r=e.getBoundingClientRect()[t]+pageYOffset,o=e.cloneNode(!0),a=e.parentElement,i=function(){!e.classList.contains(n)&&pageYOffset>=r&&(a.appendChild(a.replaceChild(o,e)),e.classList.add(n),window.removeEventListener("scroll",i),window.addEventListener("scroll",s))},s=function(){e.classList.contains(n)&&pageYOffset<=r&&(a.replaceChild(e,o),e.classList.remove(n),window.removeEventListener("scroll",s),window.addEventListener("scroll",i))};o.classList.add("clone"),i(),window.addEventListener("scroll",i)},document.addEventListener("DOMContentLoaded",function(){body=document.body,function(){mask=function(){var e="+7(___)___-__-__",t=0,n=e.replace(/\D/g,""),r=this.value.replace(/\D/g,"");n.length>=r.length&&(r=n),this.value=e.replace(/./g,function(e){return/[_\d]/.test(e)&&t<r.length?r.charAt(t++):t>=r.length?"":e}),"blur"===event.type?2===this.value.length&&(this.value="",this.classList.remove("filled")):(n=this.value.length,(e=this).focus(),e.setSelectionRange?e.setSelectionRange(n,n):e.createTextRange&&((e=e.createTextRange()).collapse(!0),e.moveEnd("character",n),e.moveStart("character",n),e.select()))};for(var e=qa("[name=tel]"),t=0;t<e.length;t++)e[t].addEventListener("input",mask),e[t].addEventListener("focus",mask),e[t].addEventListener("blur",mask)}(),function(){function e(e){var u=e.form,t=e.formBtn,l=e.uploadFilesBlock,c="invalid",f=(e.filesInput,{name:{required:!0},tel:{required:!0,pattern:/\+7\([0-9]{3}\)[0-9]{3}\-[0-9]{2}\-[0-9]{2}/},email:{required:!0,pattern:/^[A-Za-z0-9](([_\.\-]?[a-zA-Z0-9]+)*)@([A-Za-z0-9]+)(([\.\-]?[a-zA-Z0-9]+)*)\.([A-Za-z])+$/},msg:{required:!0,pattern:/[^\<\>\[\]%\&'`]+$/},policy:{required:!0}}),p={tel:{required:"Введите ваш телефон",pattern:"Укажите верный телефон"},name:{required:"Введите ваше имя"},email:{required:"Введите ваш E-mail",pattern:"Введите верный E-mail"},msg:{required:"Введите ваше сообщение",pattern:"Введены недопустимые символы"},policy:{required:"Согласитель с политикой обработки персональных данных"}},m=function(e){var t,n={},r=u,o=function(e){var t,n=e.elements,r={};for(t in f){var o=n[t];o&&(r[t]=o.value)}return r}(r);for(t in o){var a=f[t],i=r[t],s=o[t],l=a.or,c=r[l];if(a&&(i.hasAttribute("required")||!0===a.required)){var d=i.type,a=a.pattern;if(("checkbox"===d||"radio"===d)&&!i.checked||""===s){if(!l||!c){n[t]=p[t].required;continue}if(""===c.value){n[t]=p[t].required;continue}}"cehckbox"!==d&&"radio"!==d&&a&&""!==s&&!1===a.test(s)?n[t]=p[t].pattern:h(i)}}0==Object.keys(n).length?(r.removeEventListener("change",m),r.removeEventListener("input",m),u.validatie=!0):(r.addEventListener("change",m),r.addEventListener("input",m),v(r,n),u.validatie=!1)},v=function(e,t){var n,r=e.elements;for(n in t){var o=t[n],a='<label class="'+c+'">'+o+"</label>",i=r[n],s=i.nextElementSibling;s&&s.classList.contains(c)?s.textContent!==o&&(s.textContent=o):(i.insertAdjacentHTML("afterend",a),i.classList.add(c))}},h=function(e){var t=e.nextElementSibling;e.classList.remove(c),t&&t.classList.contains(c)&&t.parentElement.removeChild(t)},e=function(e){var t=q("#"+e.detail.id+">form"),n=e.type;"wpcf7mailsent"===n?(e=q(".thanks-popup__descr"),"ftr-form"===t.id||"subscribe-form"===t.id?e.innerHTML="Мы добавим ваш e&#8209;mail адрес в&nbsp;список рассылок.":e.innerHTML=thanksPopup.getAttribute("data-descr"),thanksPopup.openPopup(),thanksPopupTimer=setTimeout(function(){thanksPopup.closePopup()},3e3),setTimeout(function(){t.classList.remove("sent")},3e3)):"wpcf7mailfailed"===n&&errorPopup.openPopup(),function(e){for(var t=e.elements,n=0;n<t.length;n++)h(t[n]),t[n].classList.remove("filled");e.reset(),l&&(l.innerHTML="")}(t),t.classList.remove("loading")};u.setAttribute("novalidate",""),u.validatie=!1,t.addEventListener("click",function(){m(),!1===u.validatie?event.preventDefault():u.classList.add("loading")}),document.wpcf7mailsent||(document.addEventListener("wpcf7mailsent",e),document.wpcf7mailsent=!0),u.addEventListener("input",function(){var e=event.target,t=e.type,n=e.files,r=e.classList,o=e.value;if("text"===t||"email"===t||"tel"===t||"TEXTAREA"===e.tagName)""===o?r.remove("filled"):r.add("filled");else if("file"===t){for(var a="",i=0,s=n.length;i<s;i++)a+='<span class="uploadedfiles__file"><span class="uploadedfiles__file-text">'+n[i].name+"</span></span>";l.innerHTML=a}})}for(var t=[id("subscribe-form"),id("ftr-form"),id("contact-us-form"),id("became-an-author-form"),id("offer-an-idea-form")],n=t.length-1;0<=n;n--)t[n]&&e({form:t[n],formBtn:q(".btn",t[n])||q('.btn[form="'+t[n].id+'"]'),uploadFilesBlock:q(".uploadedfiles",t[n]),filesInput:q('input[type="file"]',t[n])})}(),mobileMenu=function(e){function r(e,t){for(var n=[e,t],r=["transform","transition"],o=["translate3d("+e+", 0px, 0px)","transform "+t],a=n.length-1;0<=a;a--)0!==n[a]&&(""===n[a]?n[a]="":n[a]=o[a],u.style[r[a]]=n[a])}function t(e){return e.constructor===String?q(e):e}function n(){F||(d.hasAttribute("style")&&(d.removeAttribute("style"),d.offsetHeight),d.classList.add("active"),f.classList.add("active"),u.scrollTop=0,y||(r("0px",".5s"),j=u.offsetWidth),h||pageScroll(!0))}function o(e,t){var n;F&&(n=e&&e.target,(t||!e||"keyup"===e.type&&27===e.keyCode||n===d||n===p)&&(d.classList.remove("active"),f.classList.remove("active"),y||r(b,".5s")))}function a(e){B&&(e=e.touches[0]||window.e.touches[0],P=N=!1,D=z=e.clientX,Y=e.clientY,m=Date.now(),u.addEventListener("touchend",E),u.addEventListener("touchmove",L),r(0,""))}function i(e){y?"opacity"===e.propertyName&&k():"transform"===e.propertyName&&k(),B=!0}function s(){d=t(e.menu),u=t(e.menuCnt),f=t(e.openBtn),p=t(e.closeBtn),h=x.allowPageScroll,g=x.toRight,w=x.toLeft,b=w?"100%":g?"-100%":0,y=x.fade,A("add"),y?g=w=!1:(r(b,0),d.addEventListener("touchstart",a)),d.isOpened=!1}function l(){F&&o(),y?g=w=!1:(r("",""),d.removeEventListener("touchstart",a)),A("remove"),p=f=u=d=null}function c(){if(S){for(var e in C=null,S)media(e)&&(C=e);C!==M&&function(){if(C){for(var e in S[C])x[e]=S[C][e];M=C}else{for(var t in _)x[t]=_[t];M=null}d&&(l(),s())}()}d||s()}var d,u,f,p,m,v,h,g,w,b,y,L=function(e){var t;B&&(t=e.touches[0]||window.e.touches[0],e=+u.style.transform.match(O)[0],H=z-t.clientX,z=t.clientX,R=Y-t.clientY,Y=t.clientY,P||N||(t=Math.abs(R),Math.abs(H),7<t||0===H?N=!0:t<7&&(P=!0)),P&&r(w&&z<D||g&&D<z?"0px":e-H+"px",0))},E=function(e){I=D-z;var t=Math.abs(I);v=Date.now(),1<t&&P&&((w&&I<0||g&&0<I)&&(j*T<=t||v-m<300?o(e,!0):(F=!1,n())),B=!1),d.removeEventListener("touchend",E),d.removeEventListener("touchmove",L)},k=function(){F?(d.isOpened=F=!1,f.addEventListener("click",n),p.removeEventListener("click",o),h||pageScroll(!1),sticky(hdr)):(d.isOpened=F=!0,f.removeEventListener("click",n),p.addEventListener("click",o))},A=function(e){f[e+"EventListener"]("click",n),d[e+"EventListener"]("click",o),d[e+"EventListener"]("transitionend",i),document[e+"EventListener"]("keyup",o)},x=JSON.parse(JSON.stringify(e)),_=JSON.parse(JSON.stringify(e)),S=e.responsive,C=null,M=null,T=.5,O=(pageYOffset,/([-0-9.]+(?=px))/),P=!1,N=!1,B=!1,F=!1,z=0,H=0,Y=0,R=0,D=0,I=0,j=0;if(e.menu)return c(),windowFuncs.resize.push(c),{options:x,menu:d,menuCnt:u,openBtn:f,closeBtn:p,open:n,close:o,destroy:l,opened:F}},initLoadmore=function(){function L(e,t){t.classList.remove("loading"),errorPopup.openPopup()}function r(e,t,n,r,o){if(!(t.wasLoadmore||e.length<o-1)){for(var t=media(n),n=t?r:o,a=[],i=o-r,s=1,l="";i;)a[a.length]=e[e.length-s],s++,i--;if(t?e.length>n&&(l="add"):l=e.length>n?"add":"remove",l)for(var c=0,d=a.length;c<d;c++)a[c]&&a[c].classList[l]("hide")}}for(var E=qa(".loadmore-sect"),e=0,t=E.length;e<t;e++)!function(l){var c=q(".loadmore-btn",E[l]),d=q(".loadmore-block",E[l]),e=qa(".loadmore-block > *:not(.gutter-size)",E[l]),t=qa('.loadmore-block > [class*="-card"]:not(.hide) img',E[l]),u=c.getAttribute("data-cards-class"),f=c.getAttribute("data-grid-masonry"),n=c.getAttribute("data-masonry-media-query"),p=c.getAttribute("data-posts-count-mobile"),m=c.getAttribute("data-posts-count-desktop"),v=c.getAttribute("data-mobile-media-query"),h=c.getAttribute("data-posts-count"),g=c.getAttribute("data-orderby"),w=c.getAttribute("data-order"),b=c.getAttribute("data-meta-key"),y=(c.getAttribute("data-offset"),void 0);"true"===f&&media(n)&&(y=new Masonry(d,{itemSelector:"."+e[0].className,columnWidth:"."+e[0].className,gutter:".gutter-size"}),t.forEach(function(e){e.addEventListener("load",function(){y.layout()})})),d.wasLoadmore=!1,r(e,d,v,p,m),windowFuncs.resize.push(r.bind(null,e,d,v,p,m)),c.addEventListener("click",function(){c.classList.add("loading");for(var e=qa('.loadmore-block > [class*="-card"]',E[l],!0),t=siteUrl+"/wp-admin/admin-ajax.php",n="action=loadmore&post_type="+c.getAttribute("data-post-type")+"&numberposts="+c.getAttribute("data-numberposts"),r="&exclude=",i=c.getAttribute("data-posts-exclude"),o=0,a=e.length;o<a;o++){var s=e[o].getAttribute("data-post-id");s&&(r+=s+" ")}r=r.slice(0,-1),i&&(r+=" "+i),n+=r,g&&(n+="&orderby="+g),w&&(n+="&order="+w),b&&(n+="&meta_key="+b),u&&(n+="&default_class="+u),fetch(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n}).then(function(e){return e.ok?e.text():(L((e.status,e.statusText),btn),"")}).then(function(e){try{e=JSON.parse(e),d.wasLoadmore=!0,c.classList.remove("loading"),d.insertAdjacentHTML("beforeend",e);for(var t=qa("article",d),n=qa('[class*="-card"].hide',d),r=qa('[class*="-card"].hide img',d),o=media(v)?p:m,a=0;a<o;a++)n[a]&&(n[a].classList.remove("hide"),"true"===f&&y&&(r[a].addEventListener("load",function(){y.layout()}),y.appended(n[a])));(t.length>=h||i&&t.length+6>=h)&&c.classList.add("hide")}catch(e){L(0,c)}}).catch(function(e){L(0,c)})})}(e)},initLoadmore(),NodeList.prototype.forEach||(NodeList.prototype.forEach=Array.prototype.forEach),HTMLCollection.prototype.forEach||(HTMLCollection.prototype.forEach=Array.prototype.forEach),fakeScrollbar=id("fake-scrollbar"),burger=q(".hdr__burger"),hdr=q(".hdr"),menu=mobileMenu({menu:q(".menu"),menuCnt:q(".menu__cnt"),openBtn:burger,closeBtn:q(".menu__close"),fade:!0,allowPageScroll:!1});for(var e,t,n=qa('a[href^="#"]'),r=0,o=n.length;r<o;r++)n[r].addEventListener("click",scrollToTarget);for(e in sticky(hdr),window.svg4everybody&&svg4everybody(),windowFuncs.resize.push(setVh),windowFuncs)"call"===e||0<(t=windowFuncs[e]).length&&(windowFuncs.call(t),window.addEventListener(e,windowFuncs.call));lax.init(),lax.addDriver("scrollY",function(){return window.scrollY}),lax.addElements(".articles-sect__decor-star",{scrollY:{translateX:[["screenHeight/2",1250],{1024:[0,120],1280:[0,360],1920:[0,485]}],translateY:[["screenHeight/2",1250],{1024:[0,415],1280:[0,410],1920:[0,425]}]}})});